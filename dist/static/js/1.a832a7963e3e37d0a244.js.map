{"version":3,"sources":["webpack:///./src/assets/img/goback.png","webpack:///src/view/detail/index.vue","webpack:///./src/service/wechat_jssdk.js","webpack:///./src/view/detail/index.vue?46df","webpack:///./src/view/detail/index.vue","webpack:///./src/assets/img/map.png"],"names":["module","exports","map_skyin","marker_skyin","detail__this","detail","name","data","isShowMap","content","phone","wx_addr","user_addr","sex","img","video","activated","this","initPage","methods","_this","lcUrl","calllback","console","log","self","signUrl","window","__APPINFO__","host","Object","ajax","res","code","wx","config","debug","appId","result","timestamp","nonceStr","signature","sign","jsApiList","RegistJsSdk","location","href","initAmap","hideMap","showMap","initWehatMap","ready","checkJsApi","success","wxld","stringify_default","setAddr","longitude","latitude","error","openCamera","length","ck_ticket","cache","cookie","get","ck_openid","images","localId","serverId","chooseImage","localIds","alert","i","upload","uploadImage","isShowProgressTips","push","localData","url","formdata","FormData","append","$dialog","toast","mes","timeout","icon","fail","openMedia","dataValidation","rtn","msg","submit","isDataOk","cname","$route","query","el","_data","img_list","join","desc","video_list","openid","ticket","$router","confirm","ck_Lng","ck_Lat","external__AMap__default","a","Map","resizeEnable","zoom","Marker","add","on","e","lnglat","getLng","getLat","plugin","addControl","ToolBar","MapType","showTraffic","showRoad","map_key","remove","position","service","geocoder","Geocoder","radius","extensions","lnglatXY","getAddress","status","info","regeocode","formattedAddress","external__AMapUI__default","loadUI","PoiPicker","poiPicker","input","placeSearchOptions","map","pageSize","searchResultsContainer","poiResult","hideSearchResults","source","poi","item","searchByKeyword","poi_wx_addr","onCityReady","uploadFile","useFile","$refs","imgFile","files","videoFile","addImgUrl","view_detail","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","title","slot","placeholder","maxlength","model","value","callback","$$v","expression","_v","click","$event","src","__webpack_require__","alt","_s","directives","rawName","type","domProps","target","composing","ref","change","_l","val","required","show-success-icon","show-error-icon","regex","id","_m","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/1.a832a7963e3e37d0a244.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAV1BMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////+ORg7oAAAAHHRSTlMAihTiOd1dEDUy+veNhl9Z7OaBeGNWGMmSaWhHjIvvHQAAAIRJREFUOMvNkV0OgkAYAz9gVWRRQBT/5v7nNN5gSJaEPk/atI196jpLDhR3h2y4I5Akd5ZcK7ihsN8buuR26UzuB3Jyf+S24H6D7PHA7yz9RsMF8A2jGzxrRVbQnBR5WUMeSqdX2vMFjU9fLDkutvtU248m2738nv3fU5Nh08Np7mNL/QBldQt7GbsIQgAAAABJRU5ErkJggg==\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/img/goback.png\n// module id = 8718\n// module chunks = 1","<template>\n  <div class=\"detail\">\n    <div class=\"frm-list\">\n      <yd-cell-group title=\"\">\n        <yd-cell-item>\n            <yd-textarea slot=\"right\" v-model='content' placeholder=\"举报内容:\" maxlength=\"200\"></yd-textarea>\n        </yd-cell-item>\n      </yd-cell-group>\n    </div>\n\n    <div class=\"frm-list\">\n      <yd-cell-group>\n        <yd-cell-item>\n            <span slot=\"left\">从地图中选择：</span>\n            <span slot=\"right\">\n              <div @click='showMap()' class=\"frm-list-right\">\n                <img src=\"@/assets/img/map.png\" alt=\"\">\n                <div class=\"frm-addr-txt\">{{wx_addr}}</div>\n              </div>\n            </span>\n        </yd-cell-item>\n      </yd-cell-group>\n    </div>\n\n    <div class=\"frm-list\">\n      <yd-cell-group>\n        <yd-cell-item>\n            <span slot=\"left\">详细地址：</span>\n            <input slot=\"right\" type=\"text\" v-model='user_addr' placeholder=\"\">\n        </yd-cell-item>\n      </yd-cell-group>\n    </div>\n\n    <div class=\"frm-list bottom-line\">\n      <div class=\"frm-list-head\">\n        <div class=\"frm-list-head-l\">\n          现场图片：\n        </div>\n        <div class=\"frm-list-head-r\">\n          {{img.length}}/4\n        </div>\n      </div>\n      <div class=\"frm-list-img\">\n        <div class=\"frm-list-img-l\">\n          <input type=\"file\" @change=\"uploadFile('img')\" class=\"input_file\" ref=\"imgFile\" name=\"\" value=\"\">\n        </div>\n\n        <div class=\"frm-list-img-l\" v-for='item in img'>\n          <img :src=\"item\" alt=\"\">\n        </div>\n\n      </div>\n    </div>\n\n    <div  class=\"frm-list bottom-line\">\n      <div class=\"frm-list-head\">\n        <div class=\"frm-list-head-l\">\n          现场视频：\n        </div>\n        <div class=\"frm-list-head-r\">\n          {{video.length}}/1\n        </div>\n      </div>\n      <div class=\"frm-list-img\">\n        <div class=\"frm-list-img-v\">\n          <input type=\"file\" @change=\"uploadFile('video')\" class=\"input_file\" ref=\"videoFile\" name=\"\" value=\"\">\n        </div>\n\n        <div class=\"frm-list-img-l\" v-for='item in video'>\n          <img :src=\"item\" alt=\"\">\n        </div>\n\n      </div>\n    </div>\n\n    <div class=\"frm-list\">\n      <yd-cell-group>\n        <yd-cell-item>\n            <span slot=\"left\">您的性别：</span>\n            <div slot=\"right\" class=\"frm-list-rado\">\n              <yd-radio-group v-model=\"sex\">\n                <yd-radio val=\"1\">男士</yd-radio>\n                <yd-radio val=\"2\">女士</yd-radio>\n              </yd-radio-group>\n            </div>\n        </yd-cell-item>\n      </yd-cell-group>\n    </div>\n\n    <div class=\"frm-list\">\n      <yd-cell-group class=\"phoneNum\">\n          <yd-cell-item>\n              <span slot=\"left\">手机号：</span>\n              <yd-input slot=\"right\" v-model=\"phone\" required :show-success-icon=\"false\" :show-error-icon=\"false\" regex=\"mobile\" placeholder=\"请输入手机号码\"></yd-input>\n          </yd-cell-item>\n      </yd-cell-group>\n    </div>\n\n    <div @click=\"submit()\" class=\"frm-btn\">\n      提交线索\n    </div>\n\n\n\n    <div  v-show=\"isShowMap\" id=\"outer-box\">\n      <div @click='hideMap()' class=\"goback\">\n        <img src=\"@/assets/img/goback.png\" alt=\"\"> <span>确定</span>\n      </div>\n      <div id=\"container\"></div>\n      <div id=\"panel\" class=\"scrollbar1\">\n          <div id=\"searchBar\">\n              <input id=\"searchInput\" placeholder=\"输入关键字搜素POI\" />\n          </div>\n          <div id=\"searchResults\"></div>\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script type=\"text/babel\">\n// 请求\nimport {  AjaxGet , AjaxPostForm , AjaxPostJson} from '@/service/ajax.js';\n// 注册 js-sdk\nimport { RegistJsSdk } from '@/service/wechat_jssdk.js';\n// 高德地图组件\nimport AMap from 'AMap';\nimport AMapUI from 'AMapUI';\n\n// 缓存\nimport Cache from '@/util/cache';\nlet map_skyin,marker_skyin,_this;\n\nexport default {\n  name: 'Skyin-Search',\n  data () {\n    return {\n      isShowMap:false,\n      content:'',  // 举报内容\n      phone:'',  // 手机号\n      wx_addr:'点击选择', // 地理位置\n      user_addr:'', // 详细地址\n      sex: '1', // 性别\n      img:[], // 图片地址 最多四张\n      video:[], // 视频地址\n    }\n  },\n  activated(){\n    this.initPage();\n  },\n  methods: {\n    initPage(){\n      _this=this;\n      // 注册 js-sdk\n      let lcUrl=window.location.href;\n      RegistJsSdk(this,lcUrl,()=>{\n        console.log(\"##### 微信初始化jssdk成功 calllback #####\");\n        _this.initAmap();\n      });\n\n      // this.TestFun();\n    },\n    hideMap(){ // 隐藏地图\n      this.isShowMap=false;\n    },\n    showMap(){\n      this.isShowMap=true;\n    },\n    initWehatMap(){\n      console.log(\"*********************************\");\n      console.log(\"微信 初始化 地理位置\");\n      console.log(\"*********************************\");\n\n      // _this.getLoaction('116.397428','39.90923');\n      window.wx.ready(function () {\n\n          // 1 判断当前版本是否支持指定 JS 接口，支持批量判断\n          window.wx.checkJsApi({\n            jsApiList: [\n              'getNetworkType',\n              'previewImage'\n            ],\n            success: function (res) {\n              console.log('***** 判断当前版本是否支持指定 JS 接口，支持批量判断 *****');\n\n              let wxld=JSON.stringify(res);\n\n              console.log(wxld);\n\n              // 设置定位信息\n              _this.setAddr(wxld.longitude,wxld.latitude)\n\n\n              // // 7.2 获取当前地理位置\n              // window.wx.getLocation({\n              //   type: 'wgs84', // 默认为wgs84的gps坐标，如果要返回直接给openLocation用的火星坐标，可传入'gcj02'\n              //   success: function (res) {\n              //     console.log('***** 获取当前地理位置 *****');\n              //     console.log(res);\n              //     let _res =JSON.stringify(res)\n              //     // 初始化高德地图\n              //     _this.getLoaction(_res.longitude,_res.latitude);\n              //   },\n              //   cancel: function (res) {\n              //     _this.getLoaction('116.397428','39.90923');\n              //     alert('用户拒绝授权获取地理位置');\n              //   }\n              // });\n\n            }\n          });\n\n      });\n      window.wx.error(function (res) {\n        console.log('***** JS-SDK 注册失败 *****');\n        console.log(res);\n        // _this.getLoaction('116.397428','39.90923');\n        _this.wx_addr = '获取地理信息失败';\n      });\n\n    },\n    openCamera(){\n      console.log(\"*********************************\");\n      console.log(\"获取图片\");\n      console.log(\"*********************************\");\n\n      if(_this.img.length>=4){\n        console.log('最多上传四张');\n        return;\n      }\n\n      let ck_ticket=Cache.cookie.get(\"ticket\");\n      let ck_openid=Cache.cookie.get(\"openid\");\n\n      window.wx.ready(function () {\n          // 1 判断当前版本是否支持指定 JS 接口，支持批量判断\n          window.wx.checkJsApi({\n            jsApiList: [\n              'getNetworkType',\n              'previewImage'\n            ],\n            success: function (res) {\n\n              console.log('***** 判断当前版本是否支持指定 JS 接口，支持批量判断 *****');\n              console.log(JSON.stringify(res));\n\n              // 5.1 拍照、本地选图\n              let images = {\n                localId: [],\n                serverId: []\n              };\n              window.wx.chooseImage({\n                success: function (res) {\n                  console.log('***** 拍照、本地选图 ***** : ',res);\n\n                  images.localId = res.localIds;\n                  if (images.localId.length > 4) {\n                       alert('最多只能选择四张图片');\n                       return;\n                  }\n\n                  // 5.3 上传图片\n                  let i = 0, length = images.localId.length;\n                  function upload() {\n                    wx.uploadImage({\n                      localId: images.localId[i], // 需要上传的图片的本地ID，由chooseImage接口获得\n                      isShowProgressTips: 1, // 默认为1，显示进度提示\n                      success: function (res) {\n                        console.log('uploadImage -> 上传返回值: ',res);\n                        i++;\n                        images.serverId.push(res.serverId);  // res.serverId 是 返回图片的服务器端ID\n\n                        let localData = res.localData; // localData是图片的base64数据，可以用img标签显示\n\n                        let url=window.__APPINFO__.host+\"/home/tool/upload\";\n\n                        let formdata = new FormData();\n                        formdata.append('file',localData); // 图片或者视频的字段\n                        formdata.append('path',\"img\"); // 存储的路由; 图片上传时，path = img ; 视频上传时，path = vedio;\n                        formdata.append('ticket',ck_ticket);\n                        formdata.append('openid',ck_openid);\n\n                        // 上传到服务器\n                        AjaxPostForm(_this,url,formdata,(res)=>{\n                          console.log('上传到服务器 -> 返回值 : ', res );\n                          if(res.data.code==0){\n                            console.log('已上传：' + i + '/' + length);\n                            _this.img.push(res.data.result.url);\n\n                          }else{\n                            console.log('第：' + i + '/' + length+'上传失败');\n                            _this.$dialog.toast({\n                                mes:'上传失败',\n                                timeout: 1500,\n                                icon: 'error'\n                            });\n                          }\n\n                        });\n\n                        if (i < length) {\n                          upload();\n                        }\n\n                      },\n                      fail: function (res) {\n                        alert(JSON.stringify(res));\n                      }\n                    });\n                  }\n                  upload();\n\n                }\n              });\n\n            }\n          });\n\n      });\n\n      window.wx.error(function (res) {\n        console.log('***** JS-SDK 注册失败 *****');\n        console.log(res);\n      });\n    },\n    openMedia(){\n      console.log(\"*********************************\");\n      console.log(\"获取摄像\");\n      console.log(\"*********************************\");\n\n      if(_this.img.length>=1){\n        console.log('最多上传1张');\n        return;\n      }\n\n      let ck_ticket=Cache.cookie.get(\"ticket\");\n      let ck_openid=Cache.cookie.get(\"openid\");\n\n      window.wx.ready(function () {\n\n          // 1 判断当前版本是否支持指定 JS 接口，支持批量判断\n          window.wx.checkJsApi({\n            jsApiList: [\n              'getNetworkType',\n              'previewImage'\n            ],\n            success: function (res) {\n\n              console.log('***** 判断当前版本是否支持指定 JS 接口，支持批量判断 *****');\n              console.log(JSON.stringify(res));\n\n              // 5.1 拍照、本地选图\n              let images = {\n                localId: [],\n                serverId: []\n              };\n              window.wx.chooseImage({\n                success: function (res) {\n                  console.log('***** 拍照、本地选图 *****');\n                  images.localId = res.localIds;\n                  if (images.localId.length > 1) {\n                       alert('最多只能选择1个视频');\n                       return;\n                  }\n                  // 5.3 上传图片\n                  let i = 0, length = images.localId.length;\n                  function upload() {\n                    wx.uploadImage({\n                      localId: images.localId[i], // 需要上传的图片的本地ID，由chooseImage接口获得\n                      isShowProgressTips: 1, // 默认为1，显示进度提示\n                      success: function (res) {\n                        console.log('uploadImage -> 上传返回值: ',res);\n                        i++;\n                        images.serverId.push(res.serverId);  // res.serverId 是 返回图片的服务器端ID\n\n                        let localData = res.localData; // localData是图片的base64数据，可以用img标签显示\n\n                        let url=window.__APPINFO__.host+\"/home/tool/upload\";\n\n                        let formdata = new FormData();\n                        formdata.append('file',localData); // 图片或者视频的字段\n                        formdata.append('path',\"vedio\"); // 存储的路由; 图片上传时，path = img ; 视频上传时，path = vedio;\n                        formdata.append('ticket',ck_ticket);\n                        formdata.append('openid',ck_openid);\n\n                        // 上传到服务器\n                        AjaxPostForm(_this,url,formdata,(res)=>{\n                          console.log('上传到服务器 -> 返回值 : ', res );\n                          if(res.data.code == 0 ){\n                            console.log('已上传：' + i + '/' + length);\n                            _this.img.push(res.data.result.url);\n                          }else{\n                            console.log('第：' + i + '/' + length+'上传失败');\n                            _this.$dialog.toast({\n                                mes:'上传失败',\n                                timeout: 1500,\n                                icon: 'error'\n                            });\n                          }\n\n                        })\n\n                        if (i < length) {\n                          upload();\n                        }\n\n                      },\n                      fail: function (res) {\n                        alert(JSON.stringify(res));\n                      }\n                    });\n                  }\n                  upload();\n\n                }\n              });\n\n            }\n          });\n\n      });\n\n      window.wx.error(function (res) {\n        console.log('***** JS-SDK 注册失败 *****');\n        console.log(res);\n      });\n    },\n    dataValidation(){\n      let rtn={\n        code:true,\n        msg:'成功'\n      }\n      if(this.content==\"\"){\n        rtn.code=false;\n        rtn.msg = '举报内容不能为空';\n        return rtn ;\n      }\n      if(this.wx_addr==\"获取地理信息失败\"||this.wx_addr==\"点击选择\" ){\n        rtn.code=false;\n        rtn.msg = '请选择地理位置';\n        return rtn ;\n      }\n      if(this.img.length==0){\n        rtn.code=false;\n        rtn.msg = '请上传图片';\n        return rtn ;\n      }\n      if(this.phone==\"\"){\n        rtn.code=false;\n        rtn.msg = '手机号不能为空';\n        return rtn ;\n      }\n      return rtn;\n    },\n    submit(){\n      console.log(\"--------- 提交数据 ----------\");\n\n      let isDataOk=_this.dataValidation();\n\n      if(!isDataOk.code){\n        _this.$dialog.toast({\n            mes: isDataOk.msg,\n            timeout: 1500,\n            icon: 'error'\n        });\n        return;\n      }\n\n      let ck_ticket=Cache.cookie.get(\"ticket\");\n      let ck_openid=Cache.cookie.get(\"openid\");\n      let cname=_this.$route.query.el;\n      let _data={\n        img_list:this.img.join(\"|\"), // 图片地址 数组最多四张\n        desc:this.content,// 举报内容\n      \t\"video_list\":this.video.join(\"|\"), // 视频地址\n      \t\"wx_addr\":this.wx_addr,\n      \t\"user_addr\":this.user_addr,\n      \t\"sex\":this.sex, // 性别\n      \t\"phone\":this.phone,  // 手机号\n      \t\"cname\":cname, // 举报类型\n        \"openid\":ck_openid,\n      \t\"ticket\":ck_ticket\n      }\n\n      let url=window.__APPINFO__.host+\"/home/cms/add\";\n      // 上传到服务器\n      AjaxPostJson(_this,url,_data,(res)=>{\n        console.log('表单提交  -> 返回值 : ', res );\n\n        if(res.data.code==0){\n          _this.$router.push(\"/sucess\");\n        }else{\n          _this.$dialog.confirm({\n            mes: res.data.msg ,\n            timeout: 1500,\n            icon: 'success'\n          });\n        }\n\n      });\n\n    },\n    initAmap(){\n      console.log(\"#####################\");\n\n      console.log(\"初始化 高德地图  \");\n      console.log(\"******** 由于Chrome、IOS10等已不再支持非安全域的浏览器定位请求，为保证定位成功率和精度，请尽快升级您的站点到HTTPS。******\");\n\n      let geolocation;\n      let ck_Lng,ck_Lat;\n\n\n      // 初始定位\n      map_skyin = new AMap.Map('container', {\n        resizeEnable: true,\n        zoom:16,//级别\n      });\n\n      // 获取当前地址\n      // map_skyin.plugin(['AMap.Geolocation'], ()=> {\n      //   geolocation = new AMap.Geolocation({\n      //     enableHighAccuracy: true, //  是否使用高精度定位，默认:true\n      //     timeout: 5000, //  超过5秒后停止定位，默认：无穷大\n      //     maximumAge: 0, // 定位结果缓存0毫秒，默认：0\n      //     convert: true, // 自动偏移坐标，偏移后的坐标为高德坐标，默认：true\n      //     showButton: true, //  显示定位按钮，默认：true\n      //     buttonPosition: 'LB',  // 定位按钮停靠位置，默认：'LB'，左下角\n      //     buttonOffset: new AMap.Pixel(10, 20), //  定位按钮与设置的停靠位置的偏移量，默认：Pixel(10, 20)\n      //     showMarker: true, //  定位成功后在定位到的位置显示点标记，默认：true\n      //     showCircle: true, //  定位成功后用圆圈表示定位精度范围，默认：true\n      //     panToLocation: true,  //  定位成功后将定位到的位置作为地图中心点，默认：true\n      //     zoomToAccuracy: true  //  定位成功后调整地图视野范围使定位位置及精度范围视野内可见，默认：false\n      //   })\n      //   map_skyin.addControl(geolocation);\n      //   geolocation.getCurrentPosition()\n      //   AMap.event.addListener(geolocation, 'complete', (result) => {\n      //     // //  返回定位信息\n      //     // _this.map.setCenter(result.position);\n      //     // console.log('经纬度：',result.position);\n      //     // console.log('精度范围：',result.accuracy);\n      //     // console.log('定位结果的来源：'+result.location_type);\n      //     // console.log('状态信息：',result.info);\n      //     // console.log('地址：',result.formattedAddress);\n      //     // console.log('地址信息：',JSON.stringify(result.addressComponent, null, 4));\n      //     _this.wx_addr=result.formattedAddress;\n      //   });\n      //   AMap.event.addListener(geolocation, 'error', (result) => {\n      //     //  返回定位出错信息\n      //     _this.wx_addr = '获取地理信息失败';\n      //     console.log(\"返回定位出错信息 -> : \",result)\n      //   });\n      // });\n\n      // 标记\n      marker_skyin = new AMap.Marker()\n      map_skyin.add(marker_skyin);//添加到地图\n\n      // 为地图添加点击事件并标记\n      map_skyin.on('click', (e)=> {\n        ck_Lng=e.lnglat.getLng();\n        ck_Lat=e.lnglat.getLat();\n\n        _this.setAddr(ck_Lng,ck_Lat)\n\n      });\n\n      // 插件\n      map_skyin.plugin(['AMap.ToolBar', 'AMap.MapType'], ()=>{\n        map_skyin.addControl(new AMap.ToolBar())\n        map_skyin.addControl(new AMap.MapType({showTraffic: false, showRoad: false}))\n      });\n\n      // 初始化 地址\n      _this.initWehatMap();\n\n    },\n    setAddr(ck_Lng,ck_Lat){ // 设置地址\n\n      let map_key=\"\";\n      // 移除已创建的 marker\n      map_skyin.remove(marker_skyin);\n      // 创建新的标记\n      marker_skyin = new AMap.Marker({\n        position:[ck_Lng,ck_Lat]//位置\n      })\n      map_skyin.add(marker_skyin);\n\n      AMap.service('AMap.Geocoder',()=>{//回调函数\n           //实例化Geocoder\n           let geocoder = new AMap.Geocoder({\n               radius: 1000,\n               extensions: \"all\"\n           });\n           let lnglatXY=[ck_Lng, ck_Lat];//地图上所标点的坐标\n           geocoder.getAddress(lnglatXY, function(status, result) {\n             console.log(\"地址结果： status: \",status ,\" result: \",result);\n             if (status === 'complete' && result.info === 'OK') {\n                 map_key = result.regeocode.formattedAddress;\n                 _this.wx_addr = result.regeocode.formattedAddress;\n\n                 // 数据条目\n                 AMapUI.loadUI(['misc/PoiPicker'], function(PoiPicker) {\n                   let poiPicker = new PoiPicker({\n                      input: 'searchInput',\n                      placeSearchOptions: {\n                          map: map_skyin,\n                          pageSize:4\n                      },\n                      searchResultsContainer: 'searchResults'\n                   });\n\n                   poiPicker.on('poiPicked', function(poiResult) {\n                      poiPicker.hideSearchResults();\n                      let source = poiResult.source,\n                          poi = poiResult.item;\n                      if (source !== 'search') {\n                        //suggest来源的，同样调用搜索\n                        poiPicker.searchByKeyword(poi.name);\n                      } else {\n                        let poi_wx_addr = result.regeocode.formattedAddress+\"-\"+poi.name;\n                        console.log(\"poi: \",poi_wx_addr);\n                        _this.wx_addr =poi_wx_addr;\n                      }\n                   });\n\n                   poiPicker.onCityReady(function() {\n                      poiPicker.searchByKeyword(map_key);\n                   });\n\n                 });\n\n\n             }else{\n                 _this.wx_addr = '获取地理信息失败';\n             }\n           });\n       });\n\n    },\n    uploadFile(e){\n      console.log('### uploadFile --> : ',e)\n      let _this=this , useFile;\n      let ck_ticket=Cache.cookie.get(\"ticket\");\n      let ck_openid=Cache.cookie.get(\"openid\");\n\n      if(e=='img'){\n        if(_this.img.length>=4){\n          _this.$dialog.alert({mes: '最多上传四张'});\n          return;\n        }\n        useFile=_this.$refs.imgFile.files[0];\n      }\n\n      if(e=='video'){\n        if(_this.video.length>=1){\n          _this.$dialog.alert({mes: '最多上传一个视频'});\n          return;\n        }\n        useFile=_this.$refs.videoFile.files[0];\n      }\n\n      console.log('input.file.files : ',useFile)\n\n      let url=window.__APPINFO__.host+\"/home/tool/upload\";\n\n      let formdata = new FormData();\n      formdata.append('file',useFile); // 图片或者视频的字段\n      formdata.append('path',e); // 存储的路由; 图片上传时，path = img ; 视频上传时，path = vedio;\n      formdata.append('ticket',ck_ticket);\n      formdata.append('openid',ck_openid);\n\n      // 上传到服务器\n      AjaxPostForm(_this,url,formdata,(res)=>{\n        console.log('上传到服务器 -> 返回值 : ', res );\n        if(res.data.code == 0 ){\n          let addImgUrl=window.__APPINFO__.host+res.data.result.url;\n          if(e=='img'){\n            _this.img.push(addImgUrl);\n          }\n          if(e=='video'){\n            _this.video.push(addImgUrl);\n          }\n          console.log(\"***** img: \", _this.img );\n          console.log(\"***** video: \",_this.video );\n        }else{\n          _this.$dialog.toast({\n              mes:'上传失败',\n              timeout: 1500,\n              icon: 'error'\n          });\n        }\n      });\n\n    },\n  }\n}\n</script>\n\n<style  lang=\"less\" rel=\"stylesheet/less\">\n  @import \"./index.less\";\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/view/detail/index.vue","// get 请求\nimport {  AjaxGet } from '@/service/ajax.js';\n// 注册 js-sdk\nexport function RegistJsSdk(_this,lcUrl,calllback){ // 注册 JS-SDK\n  console.log(\"********** 注册 JS-SDK **********\")\n  let self=_this;\n  // let appUrl=window.__APPINFO__.host+\"/home/auth/get_sign?url=\"+window.location.href;\n  let signUrl=window.__APPINFO__.host+'/home/auth/get_sign?'\n  +\"url=\"+lcUrl;\n  console.log(\"registJsSdk -> \",signUrl);\n\n  AjaxGet(self,signUrl,(res)=>{\n    console.log('getWxGign -> 返回值 : ', res );\n    if(res.data.code==0){\n        window.wx.config({\n            debug: false, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。\n            appId: res.data.result.appId, // 必填，公众号的唯一标识\n            timestamp: res.data.result.timestamp, // 必填，生成签名的时间戳\n            nonceStr: res.data.result.nonceStr, // 必填，生成签名的随机串\n            signature: res.data.result.sign,// 必填，签名\n            jsApiList: [\n              'checkJsApi',\n              'onMenuShareTimeline',\n              'onMenuShareAppMessage',\n              'onMenuShareQQ',\n              'onMenuShareWeibo',\n              'onMenuShareQZone',\n              'hideMenuItems',\n              'showMenuItems',\n              'hideAllNonBaseMenuItem',\n              'showAllNonBaseMenuItem',\n              'translateVoice',\n              'startRecord',\n              'stopRecord',\n              'onVoiceRecordEnd',\n              'playVoice',\n              'onVoicePlayEnd',\n              'pauseVoice',\n              'stopVoice',\n              'uploadVoice',\n              'downloadVoice',\n              'chooseImage',\n              'previewImage',\n              'uploadImage',\n              'downloadImage',\n              'getNetworkType',\n              'openLocation',\n              'getLocation',\n              'hideOptionMenu',\n              'showOptionMenu',\n              'closeWindow',\n              'scanQRCode',\n              'chooseWXPay',\n              'openProductSpecificView',\n              'addCard',\n              'chooseCard',\n              'openCard'\n            ] // 必填，需要使用的JS接口列表\n        });\n        calllback();\n      }\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/service/wechat_jssdk.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"detail\"},[_c('div',{staticClass:\"frm-list\"},[_c('yd-cell-group',{attrs:{\"title\":\"\"}},[_c('yd-cell-item',[_c('yd-textarea',{attrs:{\"slot\":\"right\",\"placeholder\":\"举报内容:\",\"maxlength\":\"200\"},slot:\"right\",model:{value:(_vm.content),callback:function ($$v) {_vm.content=$$v},expression:\"content\"}})],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"frm-list\"},[_c('yd-cell-group',[_c('yd-cell-item',[_c('span',{attrs:{\"slot\":\"left\"},slot:\"left\"},[_vm._v(\"从地图中选择：\")]),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"right\"},slot:\"right\"},[_c('div',{staticClass:\"frm-list-right\",on:{\"click\":function($event){_vm.showMap()}}},[_c('img',{attrs:{\"src\":require(\"@/assets/img/map.png\"),\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"frm-addr-txt\"},[_vm._v(_vm._s(_vm.wx_addr))])])])])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"frm-list\"},[_c('yd-cell-group',[_c('yd-cell-item',[_c('span',{attrs:{\"slot\":\"left\"},slot:\"left\"},[_vm._v(\"详细地址：\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user_addr),expression:\"user_addr\"}],attrs:{\"slot\":\"right\",\"type\":\"text\",\"placeholder\":\"\"},domProps:{\"value\":(_vm.user_addr)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.user_addr=$event.target.value}},slot:\"right\"})])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"frm-list bottom-line\"},[_c('div',{staticClass:\"frm-list-head\"},[_c('div',{staticClass:\"frm-list-head-l\"},[_vm._v(\"\\n        现场图片：\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"frm-list-head-r\"},[_vm._v(\"\\n        \"+_vm._s(_vm.img.length)+\"/4\\n      \")])]),_vm._v(\" \"),_c('div',{staticClass:\"frm-list-img\"},[_c('div',{staticClass:\"frm-list-img-l\"},[_c('input',{ref:\"imgFile\",staticClass:\"input_file\",attrs:{\"type\":\"file\",\"name\":\"\",\"value\":\"\"},on:{\"change\":function($event){_vm.uploadFile('img')}}})]),_vm._v(\" \"),_vm._l((_vm.img),function(item){return _c('div',{staticClass:\"frm-list-img-l\"},[_c('img',{attrs:{\"src\":item,\"alt\":\"\"}})])})],2)]),_vm._v(\" \"),_c('div',{staticClass:\"frm-list bottom-line\"},[_c('div',{staticClass:\"frm-list-head\"},[_c('div',{staticClass:\"frm-list-head-l\"},[_vm._v(\"\\n        现场视频：\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"frm-list-head-r\"},[_vm._v(\"\\n        \"+_vm._s(_vm.video.length)+\"/1\\n      \")])]),_vm._v(\" \"),_c('div',{staticClass:\"frm-list-img\"},[_c('div',{staticClass:\"frm-list-img-v\"},[_c('input',{ref:\"videoFile\",staticClass:\"input_file\",attrs:{\"type\":\"file\",\"name\":\"\",\"value\":\"\"},on:{\"change\":function($event){_vm.uploadFile('video')}}})]),_vm._v(\" \"),_vm._l((_vm.video),function(item){return _c('div',{staticClass:\"frm-list-img-l\"},[_c('img',{attrs:{\"src\":item,\"alt\":\"\"}})])})],2)]),_vm._v(\" \"),_c('div',{staticClass:\"frm-list\"},[_c('yd-cell-group',[_c('yd-cell-item',[_c('span',{attrs:{\"slot\":\"left\"},slot:\"left\"},[_vm._v(\"您的性别：\")]),_vm._v(\" \"),_c('div',{staticClass:\"frm-list-rado\",attrs:{\"slot\":\"right\"},slot:\"right\"},[_c('yd-radio-group',{model:{value:(_vm.sex),callback:function ($$v) {_vm.sex=$$v},expression:\"sex\"}},[_c('yd-radio',{attrs:{\"val\":\"1\"}},[_vm._v(\"男士\")]),_vm._v(\" \"),_c('yd-radio',{attrs:{\"val\":\"2\"}},[_vm._v(\"女士\")])],1)],1)])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"frm-list\"},[_c('yd-cell-group',{staticClass:\"phoneNum\"},[_c('yd-cell-item',[_c('span',{attrs:{\"slot\":\"left\"},slot:\"left\"},[_vm._v(\"手机号：\")]),_vm._v(\" \"),_c('yd-input',{attrs:{\"slot\":\"right\",\"required\":\"\",\"show-success-icon\":false,\"show-error-icon\":false,\"regex\":\"mobile\",\"placeholder\":\"请输入手机号码\"},slot:\"right\",model:{value:(_vm.phone),callback:function ($$v) {_vm.phone=$$v},expression:\"phone\"}})],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"frm-btn\",on:{\"click\":function($event){_vm.submit()}}},[_vm._v(\"\\n    提交线索\\n  \")]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowMap),expression:\"isShowMap\"}],attrs:{\"id\":\"outer-box\"}},[_c('div',{staticClass:\"goback\",on:{\"click\":function($event){_vm.hideMap()}}},[_c('img',{attrs:{\"src\":require(\"@/assets/img/goback.png\"),\"alt\":\"\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"确定\")])]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"container\"}}),_vm._v(\" \"),_vm._m(0)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"scrollbar1\",attrs:{\"id\":\"panel\"}},[_c('div',{attrs:{\"id\":\"searchBar\"}},[_c('input',{attrs:{\"id\":\"searchInput\",\"placeholder\":\"输入关键字搜素POI\"}})]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"searchResults\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4e988e89\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/detail/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4e988e89\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4e988e89\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/detail/index.vue\n// module id = null\n// module chunks = ","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAABmFBMVEUAAAA9n/k1m/s3nPo9n/k9n/olk/gqlvorl/o6nvsgkfgfkfk9n/ogkfk8n/k8n/okkvk8n/k8n/kllPkkk/k7oPomlPk+nvswmfozmvg9n/k9n/k9n/o8n/ojkvk9n/klk/g9n/o9n/knlPg9n/o9nvo8n/kikvklkvoolfk2nfwwmfsumPk2nPw3nPxFpPo3nPkekPczm/kikfk0nPoTi/gplfkZj/g8n/ogkfg9nvo7n/oumP07n/o7nv01nPs9n/hNp/olk/cymvgvmPgajvc9n/kbjvc9n/k9n/o5nvo9n/s8oPk9nvoxmfolkvkjkvg9nvohkvkqlvnF4//D4v/h8f/f8P/d7//K5v/b7v/U6//S6v/H5P+/4P8+oPk8n/nj8//W7P/P6P/J5f+w2f7Z7f/O5/9Tq/qu2P6r1v6OyP1RqfqYzf2CwvxzuvtrtvtbrvpLpvnn9P/R6f/M5v+KxvyEw/x8v/x1u/tvuPtptftXrPpPqPpGpPmk0v2e0P2Uy/1hsvs3nfgsl/i02/6HxPx2vPt70GJzAAAAVHRSTlMA5SwS8sH+UEAmopaDg/fStnlyb2RgVzo2/u/t5+LSyr22squllpKQikUyIx4ZBunl493Z0cvEs398S0Y9Fw0C/PXy7+/v6t7XzcWrno2AfXVrXlw9sGHlAAACmUlEQVQ4y52UZ1/aUBTGbyAMZVOGe+9arXXv7r17b3ZCFkuGgHtrte3XblCKSQD7a59X55z7z0menJOA/9b9kKvf3/y55S9YyH9ysLe7+3P/eG7R2hhzdhVzSYogJILkzo6ef2vE3bvKURRLsbSqMAmGSMeG63OLpwKpMtv5Yip7XPhBJBkl1VyPc8SQhMiN0+ZQi8XheZbnkgkuNVLLrdk3tgRywx65Sa2zmwQkYWut+2HtgOMvndVC1y6FiIsuM/cgBlnIFFy3FYsIk7ScdZjAkSMKKULMoiv1nDOIyJv99GRIyMYfGt7WPgUT6UcmcCYtQzn9Vl+KHDKQVk/GDdz6pKDUdiQhz353GkDrE56GpmecO2cgnyiMGsCJSSEJIXOocz0Wg0nIc6aOYCYuQ7itirfXT2coBGn6ZLzWNUTaZL5W1nJ2k1QhlONm154jDYSISJf6Q05nxNO6l1CQluddNZNBLNJIhs0Us9nUgSDRWkrLKUe9WWtCNCmrvEKxqJxIuWlglrW8PbAsnt5RrwOB5C9X6u6jZlMnxG1X9tHs55TjkI7bIYrzoK5cx5RyS/LSLz9oIP8BpVYbErmpCdBILy620B8ubm+64zdxFSfQNSfzsQi4Qw6RTqCyYabkacRMLLv7xsCnEssitEMWyp9ANGw1U03B7nYcx6IAzB+SNJQyU+XqgrfN527RT6VXfDmwtHaTvNqTpDP7Tav16BAmvq5us+WxL6pbj6dxrnVUd7N3YrgSijag10ope89QcIuVADeC4GO/Mf/grQSrOL4EGsryRlyumhn0dtiCdQYxHu7DvL36g1W3rbMN6+4dGHQHAsFgILAwNNBn62zHbEMWYFZTeNDm6+zA2vE2HOvAfN3vv4yBf9dvc1e1EXdyZT8AAAAASUVORK5CYII=\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/img/map.png\n// module id = EoJS\n// module chunks = 1"],"sourceRoot":""}